# -*-makefile-*-
# Spheral++ Distributed package makefile
#-------------------------------------------------------------------------------
PKGNAME = Distributed
PKGDIR = $(PKGNAME)/
LIBTARGET = libSpheral_$(PKGNAME).$(DYLIBEXT)
SRCTARGETS = \
	Communicator.cc \
	DistributedBoundaryInst.cc \
	NestedGridDistributedBoundaryInst.cc \
	BoundingVolumeDistributedBoundaryInst.cc \
	RedistributeNodesInst.cc \
	DistributeByXPositionInst.cc \
	NestedGridRedistributeNodesInst.cc \
	SortAndDivideRedistributeNodesInst.cc \
	SortAndDivideRedistributeNodes1d.cc \
	SortAndDivideRedistributeNodes2d.cc \
	SortAndDivideRedistributeNodes3d.cc \
	SpaceFillingCurveRedistributeNodesInst.cc \
	MortonOrderRedistributeNodesInst.cc \
	PeanoHilbertOrderRedistributeNodesInst.cc \
	VoronoiRedistributeNodesInst.cc \
	waitAllWithDeadlockDetection.cc \
	$(PARMETISTARGET)

SPHERALTOP = ..

#-------------------------------------------------------------------------------
include $(SPHERALTOP)/helpers/makefile_master

#EXTRAFLAGS += $(PARMETISINCS) -std=c++0x
EXTRALIBS += $(PARMETISLIBS)

#-------------------------------------------------------------------------------
# Override the default PYFFLEOPT flag, because using g++ with -g on the OSF Dec
# machines causes an internal compiler error!
OPTFLAGS = ${DISTRIBUTEDOPT}
PYFFLEOPT = ${DISTRIBUTEDOPT}

